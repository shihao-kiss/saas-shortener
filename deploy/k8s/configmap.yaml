# Kubernetes ConfigMap（配置映射）
# 用途：存储非敏感配置数据，会作为环境变量注入到 Pod 中
# 12-Factor App 原则：配置与代码分离
#
# ConfigMap vs Secret:
# - ConfigMap: 存储普通配置（端口号、数据库主机名等）
# - Secret: 存储敏感信息（密码、API Key 等），会进行 Base64 编码
apiVersion: v1
kind: ConfigMap
metadata:
  name: saas-shortener-config
  namespace: saas-shortener
  labels:
    app: saas-shortener
data:
  APP_ENV: "production"
  SERVER_PORT: "8080"
  DB_HOST: "postgres-service"   # K8s 内部 DNS 名称
  DB_PORT: "5432"
  DB_NAME: "saas_shortener"
  DB_SSLMODE: "disable"
  REDIS_ADDR: "redis-service:6379"
  TENANT_DEFAULT_RATE_LIMIT: "100"
  TENANT_MAX_URLS: "1000"
